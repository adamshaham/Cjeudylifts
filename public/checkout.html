<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-black text-white min-h-screen">
    <section class="min-h-screen bg-black">
      <div class="container mx-auto py-16 px-4 sm:px-6">
        <div class="max-w-2xl mx-auto bg-zinc-900 p-8 sm:p-10 rounded-2xl border border-zinc-800 shadow-lg">
          <h1 class="text-3xl sm:text-4xl font-bold text-center mb-8">
            Start Your <span class="text-blue-500">Transformation</span>
          </h1>
          
          <form id="checkoutForm" class="space-y-6">
            <div>
              <label for="name" class="block text-sm font-medium text-white mb-2">
                Full Name
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                placeholder="Enter your full name"
              />
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-white mb-2">
                Email Address
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                placeholder="Enter your email address"
              />
            </div>

            <div>
              <label for="phone" class="block text-sm font-medium text-white mb-2">
                Phone Number
              </label>
              <input
                type="tel"
                id="phone"
                name="phone"
                required
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                placeholder="Enter your phone number"
              />
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="age" class="block text-sm font-medium text-white mb-2">
                  Age
                </label>
                <input
                  type="number"
                  id="age"
                  name="age"
                  required
                  min="16"
                  max="100"
                  class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                  placeholder="Your age"
                />
              </div>

              <div>
                <label for="gender" class="block text-sm font-medium text-white mb-2">
                  Gender
                </label>
                <select
                  id="gender"
                  name="gender"
                  required
                  class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                >
                  <option value="">Select gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                  <option value="non-binary">Non-binary</option>
                  <option value="prefer-not-to-say">Prefer not to say</option>
                </select>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="height" class="block text-sm font-medium text-white mb-2">
                  Height
                </label>
                <div class="grid grid-cols-2 gap-2">
                  <div>
                    <select
                      id="heightFeet"
                      name="heightFeet"
                      required
                      class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                    >
                      <option value="">Feet</option>
                      <option value="4">4'</option>
                      <option value="5">5'</option>
                      <option value="6">6'</option>
                      <option value="7">7'</option>
                      <option value="8">8'</option>
                    </select>
                  </div>
                  <div>
                    <select
                      id="heightInches"
                      name="heightInches"
                      required
                      class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                    >
                      <option value="">Inches</option>
                      <option value="0">0"</option>
                      <option value="1">1"</option>
                      <option value="2">2"</option>
                      <option value="3">3"</option>
                      <option value="4">4"</option>
                      <option value="5">5"</option>
                      <option value="6">6"</option>
                      <option value="7">7"</option>
                      <option value="8">8"</option>
                      <option value="9">9"</option>
                      <option value="10">10"</option>
                      <option value="11">11"</option>
                    </select>
                  </div>
                </div>
              </div>

              <div>
                <label for="weight" class="block text-sm font-medium text-white mb-2">
                  Weight (in lbs)
                </label>
                <input
                  type="number"
                  id="weight"
                  name="weight"
                  required
                  min="50"
                  max="500"
                  class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                  placeholder="Your weight in lbs"
                />
              </div>
            </div>

            <div>
              <label for="occupation" class="block text-sm font-medium text-white mb-2">
                Occupation
              </label>
              <input
                type="text"
                id="occupation"
                name="occupation"
                required
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                placeholder="Your occupation"
              />
            </div>

            <div>
              <label for="workoutExperience" class="block text-sm font-medium text-white mb-2">
                Workout Experience
              </label>
              <select
                id="workoutExperience"
                name="workoutExperience"
                required
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
              >
                <option value="">Select your experience level</option>
                <option value="none">No experience</option>
                <option value="beginner">Beginner (less than 1 year)</option>
                <option value="intermediate">Intermediate (1-3 years)</option>
                <option value="advanced">Advanced (3+ years)</option>
              </select>
            </div>

            <div>
              <label for="workoutFrequency" class="block text-sm font-medium text-white mb-2">
                How often do you currently work out?
              </label>
              <select
                id="workoutFrequency"
                name="workoutFrequency"
                required
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
              >
                <option value="">Select frequency</option>
                <option value="never">Never</option>
                <option value="rarely">Rarely (a few times a month)</option>
                <option value="sometimes">Sometimes (1-2 times a week)</option>
                <option value="regularly">Regularly (3-4 times a week)</option>
                <option value="frequently">Frequently (5+ times a week)</option>
              </select>
            </div>

            <div>
              <label for="allergies" class="block text-sm font-medium text-white mb-2">
                Do you have any allergies?
              </label>
              <textarea
                id="allergies"
                name="allergies"
                rows="2"
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                placeholder="List any allergies or type 'None' if not applicable"
              ></textarea>
            </div>

            <div>
              <label for="medicalIssues" class="block text-sm font-medium text-white mb-2">
                Any medical issues or conditions I should know about?
              </label>
              <textarea
                id="medicalIssues"
                name="medicalIssues"
                rows="3"
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                placeholder="List any medical conditions, past injuries, or ongoing health concerns"
              ></textarea>
            </div>

            <div>
              <label for="fitnessGoals" class="block text-sm font-medium text-white mb-2">
                What are your fitness goals?
              </label>
              <textarea
                id="fitnessGoals"
                name="fitnessGoals"
                required
                rows="3"
                class="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"
                placeholder="Tell us about your fitness goals"
              ></textarea>
            </div>

            <button
              type="submit"
              class="w-full py-4 bg-yellow-500 text-black font-bold rounded-lg hover:bg-yellow-400 transition-all duration-300 text-lg mt-8"
            >
              Submit Information
            </button>
          </form>
          
          <div class="mt-6 text-center">
            <a href="/" class="text-blue-500 hover:underline">Return to Home</a>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.getElementById('checkoutForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Gather all form data
        const formData = {
          name: document.getElementById('name').value,
          email: document.getElementById('email').value,
          phone: document.getElementById('phone').value,
          age: document.getElementById('age').value,
          gender: document.getElementById('gender').value,
          height: document.getElementById('heightFeet').value + "'" + document.getElementById('heightInches').value + '"',
          weight: document.getElementById('weight').value,
          occupation: document.getElementById('occupation').value,
          workoutExperience: document.getElementById('workoutExperience').value,
          workoutFrequency: document.getElementById('workoutFrequency').value,
          allergies: document.getElementById('allergies').value || 'None',
          medicalIssues: document.getElementById('medicalIssues').value || 'None',
          fitnessGoals: document.getElementById('fitnessGoals').value
        };

        // First, send the form data via FormSubmit
        const formSubmission = new Promise((resolve) => {
          // Create email body
          const emailBody = `
          <h2>New Client Information</h2>
            
          <h3>Personal Information:</h3>
          <p><strong>Name:</strong> ${formData.name}</p>
          <p><strong>Email:</strong> ${formData.email}</p>
          <p><strong>Phone:</strong> ${formData.phone}</p>
          <p><strong>Age:</strong> ${formData.age}</p>
          <p><strong>Gender:</strong> ${formData.gender}</p>
          <p><strong>Height:</strong> ${formData.height}</p>
          <p><strong>Weight:</strong> ${formData.weight} lbs</p>
          <p><strong>Occupation:</strong> ${formData.occupation}</p>
            
          <h3>Fitness Background:</h3>
          <p><strong>Workout Experience:</strong> ${formData.workoutExperience}</p>
          <p><strong>Current Workout Frequency:</strong> ${formData.workoutFrequency}</p>
            
          <h3>Health Information:</h3>
          <p><strong>Allergies:</strong> ${formData.allergies}</p>
          <p><strong>Medical Issues/Conditions:</strong> ${formData.medicalIssues}</p>
            
          <h3>Goals:</h3>
          <p><strong>Fitness Goals:</strong> ${formData.fitnessGoals}</p>
          `;

          // Use FormSubmit.co to email the data
          fetch('https://formsubmit.co/ajax/cjeudylifts@gmail.com', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify({
              _subject: `New Fitness Consultation Request from ${formData.name}`,
              _template: 'table',
              name: formData.name,
              email: formData.email,
              phone: formData.phone,
              age: formData.age,
              gender: formData.gender,
              height: formData.height,
              weight: formData.weight + ' lbs',
              occupation: formData.occupation,
              workout_experience: formData.workoutExperience,
              workout_frequency: formData.workoutFrequency,
              allergies: formData.allergies,
              medical_issues: formData.medicalIssues,
              fitness_goals: formData.fitnessGoals,
              _captcha: 'false'
            })
          })
          .then(response => response.json())
          .then(data => {
            console.log('Form submitted successfully:', data);
            resolve();
          })
          .catch(error => {
            console.error('Error submitting form:', error);
            resolve(); // Continue to payment even if form submission fails
          });
        });

        // After form submission, redirect to Stripe
        formSubmission.then(() => {
          // Stripe checkout URL
          const stripeCheckoutUrl = 'https://buy.stripe.com/8wMcPofD8gNC9vq3cc';
          
          // Instantly redirect without showing any message
          window.location.href = stripeCheckoutUrl;
        });
      });
    </script>
    
    <!-- Include fetch polyfill for older browsers -->
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@3.0.0/dist/fetch.umd.min.js"></script>
  </body>
</html> 